'''WikiBookmarks''' is a '''MediaWiki''' extension which lets you to manage shared bookmark
lists inside a Wiki article. The extension is written by [http://yourcmc.ru/wiki/User:VitaliyFilippov Vitaliy Filippov]
and is distributed under the terms of GNU GPL license version 3 or later. Also, here is a
[http://yourcmc.ru/wiki/WikiBookmarks_(MediaWiki) link to extension homepage].

You always can find a fresh version of the '''WikiBookmarks''' documentation on the [[Special:Bookmarks]] page.
Actually, you've already found it :-).

'''WikiBookmarks''' are used in the form of a tiny bookmarklet
([http://en.wikipedia.org/wiki/Bookmarklet what is a bookmarklet?]).
To install such a bookmarklet in your browser, you need to enter the title
of Wiki Article which you want to maintain as your bookmark list, click
''Make bookmarklet'' and drag-and-drop displayed link onto your browser's
panel or add it into your browser's bookmarks.

<!-- The following is HTML+JavaScript code for creating bookmarklet. It is localized using {{MediaWiki:msgid}} templates and copy-pasted among all *.wikitext files. -->
<html><div style="display:inline-block"><label for="wb_page"><b></html>{{MediaWiki:wikibookmarks-page-editlabel}}<html></b></label><br/>
<input type="text" id="wb_page" size="20" value="</html>{{ns:User}}:{{USERNAME}}/{{MediaWiki:wikibookmarks-bookmarks-page}}<html>" /></div>
<div style="display:inline-block"><label for="wb_text"><b></html>{{MediaWiki:wikibookmarks-text-editlabel}}<html></b></label><br/>
<input type="text" id="wb_text" size="20" value="</html>{{MediaWiki:wikibookmarks-default-text}}<html>" /></div>
<input type="button" value="</html>{{MediaWiki:wikibookmarks-make-link}}<html>" onclick="wb_make_link()" />
<div id="wb_link_div" style="font-weight: bold"></div>
<script language="JavaScript">
function wb_make_link()
{
 var pg = document.getElementById("wb_page").value;
 var t = document.getElementById("wb_text").value;
 if (pg == "")
 {
  alert("</html>{{MediaWiki:wikibookmarks-page-empty}}<html>");
  return;
 }
 var d = document.getElementById("wb_link_div");
 d.innerHTML = "";
 d.appendChild(document.createTextNode("</html>{{MediaWiki:wikibookmarks-drag-bookmarklet}}<html>"));
 d.appendChild(document.createElement('br'));
 d.appendChild(document.createTextNode("[[ "));
 var a = document.createElement('a');
 a.href = "javascript:(function(){\
var p=location.protocol;\
if(p=='chrome:'||p=='about:'||p=='javascript:'){return '<meta http-equiv=%22Refresh%22 content=%220; http://</html>{{SERVERNAME}}{{SCRIPTPATH}}<html>/index.php?title="+encodeURI(encodeURI(pg))+"%22 />';}\
var w = window.open('about:blank','WikiBookmarks','width=400,height=150,menubar=no,location=no,resizable=yes,scrollbars=no');\
var f = w.document.createElement('form');\
f.method = 'POST';\
f.acceptCharset = 'UTF-8';\
f.action = 'http://</html>{{SERVERNAME}}{{SCRIPTPATH}}<html>/index.php?title=Special:Bookmarks';\
var inf = function(k,v){var i=w.document.createElement('input');i.type='hidden';i.name=k;i.value=v;f.appendChild(i)};\
inf('page','"+encodeURI(pg)+"');\
inf('url',''+location.href);\
inf('urltitle',''+document.title);\
inf('selection',(function(){var u;if(window.getSelection){u=window.getSelection()}else if(document.selection){u=document.selection.createRange()}else{return ''}if(u.getRangeAt){u=u.getRangeAt(0)}if(u.cloneContents){u=u.cloneContents();d=document.createElement('div');d.appendChild(u);if(d.innerHTML==''){u=''}else{u='%3Chtml>'+d.innerHTML+'%3C/html>'}}else if(u.text){u=u.text}return ''+u}()));\
w.document.body.appendChild(f);\
f.submit();\
return;\
}())";
 a.innerHTML = t;
 d.appendChild(a);
 d.appendChild(document.createTextNode(" ]]"));
}
</script>
</html>
<!-- End HTML+JavaScript -->

When you click the newly added button when viewing some interesting Web page,
'''WikiBookmarks''' will remember current page's URL, title and selected text (if any),
on MediaWiki article you selected for bookmarks ([[{{ns:User}}:{{USERNAME}}/{{MediaWiki:wikibookmarks-bookmarks-page}}]] by default).

The new bookmarks are added into beginning of an article, under certain count of headings.
By default the first-level headings are named '''== Year ==''' and the second-level headings
are named '''=== Month Year ===''' (<code>"%Y" "%B %Y"</code>). This meant to be used for
bookmark classification by date. If you want to change heading count and/or heading date format,
you must add a line similar to the following one into the beginning of your bookmarks article:
<pre><!--BookmarkHeadings:"%Y" "%Y-%m" "%Y-%m-%d"--></pre>
'''WikiBookmarks''' extracts all present quoted strings from such a comment and use them
as the date dependent headings. The format of formatting strings is the same as in PHP
function [http://php.net/manual/en/function.strftime.php strftime()] (as you know, actually it's
libc's, but it doesn't matter).

You also have the option of changing format of the date-time string appended to list item
before each bookmark. To do this, you must add a line similar to the following one into the
beginning of your bookmarks article:
<pre><!--BookmarkDate:"%d %H:%M:%S"--></pre>
If such a comment is present, '''WikiBookmarks''' will take the quoted string from it and use it
as date and time format.

[[Category:Help]]
