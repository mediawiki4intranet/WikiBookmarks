'''ВикиЗакладки''' (''WikiBookmarks'') — расширение '''MediaWiki''', позволяющее управлять публичными
списками закладок с помощью Wiki-статьи.

На странице [[Служебная:Bookmarks]] вы всегда можете (точнее, уже смогли) найти свежую версию
справочной информации по ВикиЗакладкам:

'''ВикиЗакладки''' используются в виде небольшого букмарклета
([http://ru.wikipedia.org/wiki/Букмарклет что такое букмарклет?]).
Чтобы установить такой букмарклет себе в браузер, введите название страницы,
на которой Вы хотели бы поддерживать список своих закладок (по умолчанию [[{{ns:User}}:{{USERNAME}}/Закладки]]),
нажмите кнопку '''Вывести ссылку''' и перетащите появившуюся ссылку себе на панель инструментов
браузера или добавьте её в закладки браузера.

Далее, находясь на любой странице, которую Вы хотели бы запомнить на странице '''ВикиЗакладок''',
просто нажмите на добавленную в браузер кнопку. '''ВикиЗакладки''' запомнят адрес текущей страницы,
её заголовок и выделенный на странице текст, если таковой имеется.

<html><input type="text" id="wb_page" size="20" value="</html>{{ns:User}}:{{USERNAME}}<html>/Закладки" />&nbsp;<input type="button" value="Вывести ссылку" onclick="wb_make_link()" />
<div id="wb_link_div" style="font-weight: bold"></div>
<script language="JavaScript">
function wb_make_link()
{
 pg = document.getElementById("wb_page").value;
 if (pg == "")
 {
  alert("Имя страницы не должно быть пустым!");
  return;
 }
 var d = document.getElementById("wb_link_div");
 d.innerHTML = "";
 d.appendChild(document.createTextNode("Перетащите следующую ссылку на панель своего браузера:"));
 d.appendChild(document.createElement('br'));
 d.appendChild(document.createTextNode("[[ "));
 var a = document.createElement('a');
 a.href = "javascript:(function(){\
var p=location.protocol;\
if(p=='chrome:'||p=='about:'||p=='javascript:'){return '<meta http-equiv=%22Refresh%22 content=%220; http://</html>{{SERVERNAME}}{{SCRIPTPATH}}<html>/index.php?title="+encodeURI(encodeURI(pg))+"%22 />';}\
window.open('about:blank','WikiBookmarks','width=400,height=150,menubar=no,location=no,resizable=yes,scrollbars=no');\
var f = document.createElement('form');\
f.target = 'WikiBookmarks';\
f.method = 'POST';\
f.acceptCharset = 'UTF-8';\
f.action = 'http://</html>{{SERVERNAME}}{{SCRIPTPATH}}<html>/index.php?title=Special:Bookmarks';\
f.innerHTML = %22<input type='hidden' name='page' value='"+encodeURI(pg)+"' /><input type='hidden' name='url' value='%22+(''+location.href).replace(%22'%22, %22%2527%22)+%22' />\
<input type='hidden' name='urltitle' value='%22+(''+document.title).replace(%22'%22, %22%2527%22)+%22' /><input type='hidden' name='selection' value='%22+\
(function(){var u;if(window.getSelection){u=window.getSelection();}else if(document.selection){u=document.selection.createRange();}else{return '';}if(u.text){u=u.text;}return (''+u).replace(%22'%22, %22%2527%22);}())+\
%22' />%22;\
document.body.appendChild(f);\
f.submit();\
return;\
}())";
 a.innerHTML = 'В ВикиЗакладки';
 d.appendChild(a);
 d.appendChild(document.createTextNode(" ]]"));
}
</script>
</html>
